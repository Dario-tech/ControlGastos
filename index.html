<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Control de Gastos 2025</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2> Mi Control de Gastos </h2>
                <div class="year-badge">2025</div>
            </div>
            
            <ul class="nav-menu">
                <li class="nav-item active" data-section="summary">
                    <i class="nav-icon">📊</i>
                    <span>Resumen Mensual</span>
                </li>
                <li class="nav-item" data-section="control">
                    <i class="nav-icon">📋</i>
                    <span>Control</span>
                </li>
                <li class="nav-item" data-section="add-entry">
                    <i class="nav-icon">➕</i>
                    <span>Añadir Entrada</span>
                </li>
            </ul>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <header class="main-header">
                <button class="sidebar-toggle" id="sidebarToggle">☰</button>
                <h1 id="pageTitle">Resumen Mensual</h1>
            </header>

            <div class="content-wrapper">
                <!-- Summary Section (Default View) -->
                <section class="content-section active" id="summary-section">
                    <div class="summary-container">
                        <!-- Filter Controls -->
                        <div class="filter-controls">
                            <div class="filter-group">
                                <label for="monthFilter">Filtrar por mes:</label>
                                <select id="monthFilter">
                                    <option value="all">Todo el año</option>
                                    <option value="0">Enero</option>
                                    <option value="1">Febrero</option>
                                    <option value="2">Marzo</option>
                                    <option value="3">Abril</option>
                                    <option value="4">Mayo</option>
                                    <option value="5">Junio</option>
                                    <option value="6">Julio</option>
                                    <option value="7">Agosto</option>
                                    <option value="8">Septiembre</option>
                                    <option value="9">Octubre</option>
                                    <option value="10">Noviembre</option>
                                    <option value="11">Diciembre</option>
                                </select>
                            </div>
                        </div>

                        <!-- Summary Stats -->
                        <div class="summary-stats">
                            <div class="stat-card total-income">
                                <h3>Ingresos Totales</h3>
                                <div class="stat-amount" id="totalIncome">€0.00</div>
                            </div>
                            <div class="stat-card total-expenses">
                                <h3>Gastos Totales</h3>
                                <div class="stat-amount" id="totalExpenses">€0.00</div>
                            </div>
                            <div class="stat-card balance">
                                <h3>Balance</h3>
                                <div class="stat-amount" id="totalBalance">€0.00</div>
                            </div>
                        </div>

                        <!-- Charts Section -->
                        <div class="charts-container">
                            <div class="chart-card">
                                <h3>Distribución General</h3>
                                <div class="chart-wrapper">
                                    <canvas id="generalChart"></canvas>
                                </div>
                                <div class="chart-legend" id="generalLegend"></div>
                            </div>
                            
                            <div class="chart-card">
                                <h3>Desglose de Ingresos</h3>
                                <div class="chart-wrapper">
                                    <canvas id="incomeChart"></canvas>
                                </div>
                                <div class="chart-legend" id="incomeLegend"></div>
                            </div>
                            
                            <div class="chart-card">
                                <h3>Desglose de Gastos</h3>
                                <div class="chart-wrapper">
                                    <canvas id="expensesChart"></canvas>
                                </div>
                                <div class="chart-legend" id="expensesLegend"></div>
                            </div>
                            
                            <div class="chart-card">
                                <h3>Distribución de Ahorro</h3>
                                <div class="chart-wrapper">
                                    <canvas id="savingsChart"></canvas>
                                </div>
                                <div class="chart-legend" id="savingsLegend"></div>
                            </div>
                        </div>
                        
                        <!-- Monthly Summary Grid -->
                        <div class="summary-section-title">
                            <h3>Resumen Mensual Detallado</h3>
                        </div>
                        <div class="summary-grid" id="summaryGrid">
                            <!-- Monthly summary will be populated by JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Control Section (Unified View) -->
                <section class="content-section" id="control-section">
                    <div class="section-header">
                        <h2>Control de Gastos e Ingresos</h2>
                        <div class="header-buttons">
                            <button class="btn-sync" onclick="syncWithDatabase()">
                                <i class="fas fa-sync-alt"></i> Sincronizar
                            </button>
                            <button class="btn-export" onclick="exportSection('control')">
                                <i class="fas fa-download"></i> Exportar Todo
                            </button>
                        </div>
                    </div>

                    <!-- Ingresos Subsection -->
                    <div class="subsection">
                        <div class="subsection-header">
                            <h3>💰 Ingresos</h3>
                            <button class="btn-export btn-small" onclick="exportSection('income')">Exportar Ingresos</button>
                        </div>
                        <div class="table-container">
                            <table class="income-table">
                                <thead>
                                    <tr>
                                        <th>Concepto</th>
                                        <th>Enero</th>
                                        <th>Febrero</th>
                                        <th>Marzo</th>
                                        <th>Abril</th>
                                        <th>Mayo</th>
                                        <th>Junio</th>
                                        <th>Julio</th>
                                        <th>Agosto</th>
                                        <th>Septiembre</th>
                                        <th>Octubre</th>
                                        <th>Noviembre</th>
                                        <th>Diciembre</th>
                                        <th>NOTAS</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Nómina</td>
                                        <td class="editable-cell" data-category="income" data-concept="Nómina" data-month="0"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Nómina" data-month="1"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Nómina" data-month="2"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Nómina" data-month="3"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Nómina" data-month="4"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Nómina" data-month="5"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Nómina" data-month="6"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Nómina" data-month="7"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Nómina" data-month="8"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Nómina" data-month="9"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Nómina" data-month="10"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Nómina" data-month="11"></td>
                                        <td class="notes-cell"></td>
                                    </tr>
                                    <tr>
                                        <td>Otros motivos</td>
                                        <td class="editable-cell" data-category="income" data-concept="Otros motivos" data-month="0"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Otros motivos" data-month="1"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Otros motivos" data-month="2"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Otros motivos" data-month="3"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Otros motivos" data-month="4"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Otros motivos" data-month="5"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Otros motivos" data-month="6"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Otros motivos" data-month="7"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Otros motivos" data-month="8"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Otros motivos" data-month="9"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Otros motivos" data-month="10"></td>
                                        <td class="editable-cell" data-category="income" data-concept="Otros motivos" data-month="11"></td>
                                        <td class="notes-cell"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Gastos Fijos Subsection -->
                    <div class="subsection">
                        <div class="subsection-header">
                            <h3>🏠 Gastos Fijos</h3>
                            <button class="btn-export btn-small" onclick="exportSection('fixed')">Exportar Gastos Fijos</button>
                        </div>
                        <div class="table-container">
                            <table class="expenses-table">
                                <thead>
                                    <tr>
                                        <th>Concepto</th>
                                        <th>Enero</th>
                                        <th>Febrero</th>
                                        <th>Marzo</th>
                                        <th>Abril</th>
                                        <th>Mayo</th>
                                        <th>Junio</th>
                                        <th>Julio</th>
                                        <th>Agosto</th>
                                        <th>Septiembre</th>
                                        <th>Octubre</th>
                                        <th>Noviembre</th>
                                        <th>Diciembre</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Piso</td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Piso" data-month="0"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Piso" data-month="1"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Piso" data-month="2"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Piso" data-month="3"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Piso" data-month="4"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Piso" data-month="5"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Piso" data-month="6"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Piso" data-month="7"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Piso" data-month="8"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Piso" data-month="9"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Piso" data-month="10"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Piso" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>Transporte</td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Transporte" data-month="0"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Transporte" data-month="1"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Transporte" data-month="2"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Transporte" data-month="3"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Transporte" data-month="4"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Transporte" data-month="5"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Transporte" data-month="6"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Transporte" data-month="7"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Transporte" data-month="8"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Transporte" data-month="9"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Transporte" data-month="10"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Transporte" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>Luz</td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Luz" data-month="0"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Luz" data-month="1"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Luz" data-month="2"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Luz" data-month="3"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Luz" data-month="4"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Luz" data-month="5"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Luz" data-month="6"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Luz" data-month="7"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Luz" data-month="8"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Luz" data-month="9"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Luz" data-month="10"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Luz" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>Agua</td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Agua" data-month="0"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Agua" data-month="1"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Agua" data-month="2"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Agua" data-month="3"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Agua" data-month="4"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Agua" data-month="5"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Agua" data-month="6"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Agua" data-month="7"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Agua" data-month="8"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Agua" data-month="9"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Agua" data-month="10"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Agua" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>Inversiones</td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Inversiones" data-month="0"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Inversiones" data-month="1"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Inversiones" data-month="2"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Inversiones" data-month="3"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Inversiones" data-month="4"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Inversiones" data-month="5"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Inversiones" data-month="6"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Inversiones" data-month="7"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Inversiones" data-month="8"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Inversiones" data-month="9"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Inversiones" data-month="10"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Inversiones" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>Cripto</td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Cripto" data-month="0"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Cripto" data-month="1"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Cripto" data-month="2"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Cripto" data-month="3"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Cripto" data-month="4"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Cripto" data-month="5"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Cripto" data-month="6"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Cripto" data-month="7"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Cripto" data-month="8"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Cripto" data-month="9"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Cripto" data-month="10"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Cripto" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>Gas</td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Gas" data-month="0"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Gas" data-month="1"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Gas" data-month="2"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Gas" data-month="3"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Gas" data-month="4"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Gas" data-month="5"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Gas" data-month="6"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Gas" data-month="7"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Gas" data-month="8"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Gas" data-month="9"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Gas" data-month="10"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="Gas" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>WiFi</td>
                                        <td class="editable-cell" data-category="fixed" data-concept="WiFi" data-month="0"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="WiFi" data-month="1"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="WiFi" data-month="2"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="WiFi" data-month="3"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="WiFi" data-month="4"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="WiFi" data-month="5"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="WiFi" data-month="6"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="WiFi" data-month="7"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="WiFi" data-month="8"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="WiFi" data-month="9"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="WiFi" data-month="10"></td>
                                        <td class="editable-cell" data-category="fixed" data-concept="WiFi" data-month="11"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Gastos Variables Subsection -->
                    <div class="subsection">
                        <div class="subsection-header">
                            <h3>💳 Gastos Variables</h3>
                            <button class="btn-export btn-small" onclick="exportSection('variable')">Exportar Gastos Variables</button>
                        </div>
                        <div class="table-container">
                            <table class="variable-expenses-table">
                                <thead>
                                    <tr>
                                        <th>Concepto</th>
                                        <th>Enero</th>
                                        <th>Febrero</th>
                                        <th>Marzo</th>
                                        <th>Abril</th>
                                        <th>Mayo</th>
                                        <th>Junio</th>
                                        <th>Julio</th>
                                        <th>Agosto</th>
                                        <th>Septiembre</th>
                                        <th>Octubre</th>
                                        <th>Noviembre</th>
                                        <th>Diciembre</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            Variado(justificar)
                                            <button class="info-btn" onclick="showVariadoBreakdown()" title="Ver desglose detallado">
                                                <i class="fas fa-info-circle"></i>
                                            </button>
                                        </td>
                                        <td class="editable-cell" data-category="variable" data-concept="Variado(justificar)" data-month="0"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Variado(justificar)" data-month="1"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Variado(justificar)" data-month="2"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Variado(justificar)" data-month="3"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Variado(justificar)" data-month="4"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Variado(justificar)" data-month="5"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Variado(justificar)" data-month="6"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Variado(justificar)" data-month="7"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Variado(justificar)" data-month="8"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Variado(justificar)" data-month="9"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Variado(justificar)" data-month="10"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Variado(justificar)" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>Ocio</td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ocio" data-month="0"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ocio" data-month="1"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ocio" data-month="2"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ocio" data-month="3"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ocio" data-month="4"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ocio" data-month="5"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ocio" data-month="6"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ocio" data-month="7"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ocio" data-month="8"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ocio" data-month="9"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ocio" data-month="10"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ocio" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>Ropa</td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ropa" data-month="0"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ropa" data-month="1"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ropa" data-month="2"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ropa" data-month="3"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ropa" data-month="4"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ropa" data-month="5"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ropa" data-month="6"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ropa" data-month="7"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ropa" data-month="8"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ropa" data-month="9"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ropa" data-month="10"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Ropa" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>Netflix&regalos</td>
                                        <td class="editable-cell" data-category="variable" data-concept="Netflix&regalos" data-month="0"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Netflix&regalos" data-month="1"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Netflix&regalos" data-month="2"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Netflix&regalos" data-month="3"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Netflix&regalos" data-month="4"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Netflix&regalos" data-month="5"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Netflix&regalos" data-month="6"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Netflix&regalos" data-month="7"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Netflix&regalos" data-month="8"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Netflix&regalos" data-month="9"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Netflix&regalos" data-month="10"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Netflix&regalos" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>Vuelos</td>
                                        <td class="editable-cell" data-category="variable" data-concept="Vuelos" data-month="0"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Vuelos" data-month="1"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Vuelos" data-month="2"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Vuelos" data-month="3"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Vuelos" data-month="4"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Vuelos" data-month="5"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Vuelos" data-month="6"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Vuelos" data-month="7"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Vuelos" data-month="8"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Vuelos" data-month="9"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Vuelos" data-month="10"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Vuelos" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>Gimnasio</td>
                                        <td class="editable-cell" data-category="variable" data-concept="Gimnasio" data-month="0"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Gimnasio" data-month="1"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Gimnasio" data-month="2"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Gimnasio" data-month="3"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Gimnasio" data-month="4"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Gimnasio" data-month="5"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Gimnasio" data-month="6"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Gimnasio" data-month="7"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Gimnasio" data-month="8"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Gimnasio" data-month="9"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Gimnasio" data-month="10"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Gimnasio" data-month="11"></td>
                                    </tr>
                                    <tr>
                                        <td>Comida</td>
                                        <td class="editable-cell" data-category="variable" data-concept="Comida" data-month="0"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Comida" data-month="1"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Comida" data-month="2"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Comida" data-month="3"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Comida" data-month="4"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Comida" data-month="5"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Comida" data-month="6"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Comida" data-month="7"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Comida" data-month="8"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Comida" data-month="9"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Comida" data-month="10"></td>
                                        <td class="editable-cell" data-category="variable" data-concept="Comida" data-month="11"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Add Entry Section -->
                <section class="content-section" id="add-entry-section">
                    <div class="section-header">
                        <h2>Añadir Nueva Entrada</h2>
                    </div>

                    <form id="entryForm" class="entry-form">
                        <div class="form-group">
                            <label for="category">Categoría:</label>
                            <select id="category" name="category" required>
                                <option value="">Seleccionar categoría</option>
                                <option value="income">Ingresos</option>
                                <option value="fixed">Gastos Fijos</option>
                                <option value="variable">Gastos Variables</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="concept">Concepto:</label>
                            <input type="text" id="concept" name="concept" required>
                        </div>

                        <div class="form-group">
                            <label for="month">Mes:</label>
                            <select id="month" name="month" required>
                                <option value="">Seleccionar mes</option>
                                <option value="0">Enero</option>
                                <option value="1">Febrero</option>
                                <option value="2">Marzo</option>
                                <option value="3">Abril</option>
                                <option value="4">Mayo</option>
                                <option value="5">Junio</option>
                                <option value="6">Julio</option>
                                <option value="7">Agosto</option>
                                <option value="8">Septiembre</option>
                                <option value="9">Octubre</option>
                                <option value="10">Noviembre</option>
                                <option value="11">Diciembre</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="amount">Cantidad (€):</label>
                            <input type="number" id="amount" name="amount" step="0.01" required>
                        </div>

                        <button type="submit">Añadir Entrada</button>
                    </form>
                </section>
            </div>
        </main>

        <!-- Modal para desglose de Variado -->
        <div id="variadoModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Desglose de Gastos Variados</h3>
                    <span class="close" onclick="closeVariadoModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="month-selector-container">
                        <label for="monthSelector">Seleccionar mes:</label>
                        <select id="monthSelector" onchange="updateVariadoForMonth()">
                            <option value="0">Enero</option>
                            <option value="1">Febrero</option>
                            <option value="2">Marzo</option>
                            <option value="3">Abril</option>
                            <option value="4">Mayo</option>
                            <option value="5">Junio</option>
                            <option value="6">Julio</option>
                            <option value="7">Agosto</option>
                            <option value="8">Septiembre</option>
                            <option value="9">Octubre</option>
                            <option value="10">Noviembre</option>
                            <option value="11">Diciembre</option>
                        </select>
                    </div>
                    
                    <div id="selectedMonthInfo" class="month-info">
                        Desglose detallado para <strong>Enero</strong>:
                    </div>
                    
                    <ul id="breakdownList" class="breakdown-list">
                        <!-- Los elementos se cargarán dinámicamente con JavaScript -->
                    </ul>
                    
                    <div class="total-section">
                        <strong>Total del mes: <span id="variadoTotal">0,00 €</span></strong>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>